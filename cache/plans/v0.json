{
  "version": "v0",
  "goal": "Fapptap v0 - Backend engine + UI MVP for beat-synced auto-editing",
  "owner": "me",
  "status": "todo",
  "total_estimate_days": 6.0,
  "tasks": [
    {
      "id": 1,
      "title": "Probe media",
      "owner": "me",
      "estimate_days": 0.5,
      "status": "todo",
      "acceptance": "cache/probe/<basename>.json per file and rows in cache/analysis.db (duration, fps, WxH, hash).",
      "blocked_by": []
    },
    {
      "id": 2,
      "title": "Beats (audio)",
      "owner": "me",
      "estimate_days": 0.5,
      "status": "todo",
      "acceptance": "cache/beats.json with {tempo, beats_sec[]} for chosen track.",
      "blocked_by": [1]
    },
    {
      "id": 3,
      "title": "Shots (video)",
      "owner": "me",
      "estimate_days": 0.75,
      "status": "todo",
      "acceptance": "cache/shots.json per clip: [{start,end}], reasonable splits.",
      "blocked_by": [1]
    },
    {
      "id": 4,
      "title": "Cutlist builder (v0)",
      "owner": "me",
      "estimate_days": 1.0,
      "status": "todo",
      "acceptance": "render/cutlist.json matches schema; events align to nearest shot edges and beat grid (≤ ±80ms).",
      "blocked_by": [2, 3]
    },
    {
      "id": 5,
      "title": "Proxy render (NVENC)",
      "owner": "me",
      "estimate_days": 0.5,
      "status": "todo",
      "acceptance": "render/proxy_<timestamp>.mp4 960×540@60, built from cutlist.json.",
      "blocked_by": [4]
    },
    {
      "id": 6,
      "title": "Final render (NVENC)",
      "owner": "me",
      "estimate_days": 0.25,
      "status": "todo",
      "acceptance": "render/final_<timestamp>.mp4 1920×1080@60, faststart, no overwrite.",
      "blocked_by": [5]
    },

    {
      "id": 7,
      "title": "UI skeleton",
      "owner": "me",
      "estimate_days": 0.5,
      "status": "todo",
      "acceptance": "Window with buttons: Load Audio, Load Clips, Run Auto-Edit, Preview Proxy.",
      "blocked_by": []
    },
    {
      "id": 8,
      "title": "Wire UI → pipeline (stubs OK)",
      "owner": "me",
      "estimate_days": 0.5,
      "status": "todo",
      "acceptance": "Clicking Run Auto-Edit calls a Python entrypoint that builds a dummy cutlist and renders a short proxy; progress text updates.",
      "blocked_by": [7]
    },
    {
      "id": 9,
      "title": "Preview player in UI",
      "owner": "me",
      "estimate_days": 0.5,
      "status": "todo",
      "acceptance": "Preview Proxy plays the latest render/proxy_*.mp4 in-app (or opens system player as fallback).",
      "blocked_by": [7, 8]
    },
    {
      "id": 10,
      "title": "Swap stubs → real pipeline",
      "owner": "me",
      "estimate_days": 0.75,
      "status": "todo",
      "acceptance": "UI triggers real steps: probe → beats → shots → cutlist → proxy; errors surfaced in UI.",
      "blocked_by": [1,2,3,4,5,8]
    }
  ],
  "acceptance_criteria": [
    "All pipeline outputs are reproducible with documented commands",
    "JSON files validate against schemas",
    "Cutlist events align to beat grid within ±80ms for v0",
    "Proxy renders produced from cutlist and playable in UI",
    "Final renders are timestamped and do not overwrite existing files"
  ],
  "notes": "Follow MCP rules: writes under cache/ and render/ only. Owner 'me'. Adjust estimates as implementation reveals complexity."
}
